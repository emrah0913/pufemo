<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Türkiye'den Kıbrıs'a Sipariş Getirme Hizmeti | Getir Kıbrıs</title>
    <meta name="description" content="Trendyol, Hepsiburada ve diğer Türkiye sitelerinden Kıbrıs'a kolayca ürün getirin. Hesaplayın ve sepetinize ekleyin.">
    <link rel="canonical" href="https://getirkibris.com" />
    <link rel="icon" href="/favicon.ico?v=2" type="image/x-icon">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts & Remix Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css" rel="stylesheet">

    <script>
        // Tailwind CSS Konfigürasyonu
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5d3ebc',
                        secondary: '#ffd300'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    borderRadius: {
                        'button': '8px'
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
        }
        .copy-btn:active, .auth-button:active {
            transform: scale(0.95);
        }
        /* Animasyonlar */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50">

<div class="w-full max-w-screen-lg mx-auto relative min-h-screen pb-16">

    <!-- HEADER -->
    <header class="sticky top-0 w-full bg-white shadow-sm z-50 px-4 py-3 flex items-center justify-between">
        <!-- Logo -->
        <a href="https://getirkibris.com/index.html" class="flex items-center gap-2">
            <img src="https://placehold.co/100x40/5d3ebc/ffffff?text=GetirKıbrıs&font=inter" alt="Getir Kıbrıs Logo" class="h-10">
        </a>
        
        <!-- Navigation & Auth -->
        <div class="flex items-center gap-4">
             <a href="sepet.html" id="cart-btn" class="relative flex items-center gap-2 text-gray-600 hover:text-primary transition-colors">
                <i class="ri-shopping-cart-line ri-lg"></i>
                <span class="hidden md:block text-sm font-medium">Sepetim</span>
                <span id="cart-badge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-4 w-4 flex items-center justify-center hidden">0</span>
            </a>
            <div id="auth-button-container" class="w-8 h-8 flex items-center justify-center">
                <button id="login-btn" class="text-primary font-medium cursor-pointer" aria-label="Giriş Yap">
                    <i class="ri-user-line ri-lg"></i>
                </button>
                <div id="profile-container" class="hidden cursor-pointer">
                    <img id="profile-img" src="" alt="Profil" class="w-8 h-8 rounded-full">
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="pt-8 pb-20 px-4">
        
        <!-- Hero Section -->
        <section class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-primary mb-2">Türkiye'den Kıbrıs'a Alışverişin En Kolay Yolu</h1>
            <p class="text-md md:text-lg text-gray-600 max-w-2xl mx-auto">Trendyol, Hepsiburada ve dilediğiniz siteden beğendiğiniz ürünleri sizin için Kıbrıs'a getirelim.</p>
        </section>

        <!-- Calculator Section -->
        <section id="calculator-section" class="bg-white rounded-lg shadow-lg mx-auto p-6 mb-8 max-w-2xl fade-in">
            <h2 class="text-xl font-semibold mb-4 text-primary">1. Ürün Bilgilerini Girin</h2>
            <form id="calculator-form" class="space-y-4">
                <!-- Sipariş Yöntemi -->
                <div>
                    <label for="order-method" class="block text-sm font-medium text-gray-700 mb-1">Sipariş Yöntemi<span class="text-red-500">*</span></label>
                    <select id="order-method" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm">
                        <option value="service" selected>Ürünü benim yerime siz sipariş edin</option>
                        <option value="self">Ürünü ben alacağım, sadece kargo hizmeti istiyorum</option>
                    </select>
                </div>
                <!-- Ürün Linki -->
                <div>
                    <label for="product-link" class="block text-sm font-medium text-gray-700 mb-1">Ürün Linki<span class="text-red-500">*</span></label>
                    <input type="url" id="product-link" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="https://www.example.com/urun">
                </div>
                <!-- Fiyat ve Kategori -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="product-price" class="block text-sm font-medium text-gray-700 mb-1">Ürün Fiyatı (₺)<span class="text-red-500">*</span></label>
                        <input type="number" id="product-price" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="150.00" step="any" min="0.01">
                    </div>
                    <div>
                        <label for="product-category" class="block text-sm font-medium text-gray-700 mb-1">Kategori<span class="text-red-500">*</span></label>
                        <select id="product-category" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm">
                            <option value="" disabled selected>Kategori seçin</option>
                            <option value="furniture">Mobilya & Ev Eşyası</option>
                            <option value="electronics">Elektronik</option>
                            <option value="clothing">Giyim & Ayakkabı</option>
                            <option value="cosmetics">Kozmetik</option>
                            <option value="stationery">Kırtasiye & Kitap</option>
                        </select>
                    </div>
                </div>
                
                <!-- Calculation Result & Action Button -->
                <div id="calculation-result" class="mt-6 p-4 bg-gray-50 rounded-lg hidden">
                    <h3 class="font-medium text-gray-800 mb-2">Ürün Getirme Maliyeti</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span id="result-price-label">Ürün Fiyatı:</span>
                            <span id="result-price">0 ₺</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Kategori Hizmet Bedeli:</span>
                            <span id="result-category-fee">0 ₺</span>
                        </div>
                        <div class="flex justify-between font-bold text-primary pt-2 border-t border-gray-200">
                            <span>Getirme Dahil Toplam:</span>
                            <span id="result-total">0 ₺</span>
                        </div>
                    </div>
                </div>

                <button type="submit" id="main-action-btn" class="w-full bg-primary text-white py-3 rounded-button font-semibold hover:bg-primary/90 transition-colors cursor-pointer flex items-center justify-center gap-2">
                    <i class="ri-calculator-line"></i>
                    <span>Maliyeti Hesapla</span>
                </button>
            </form>
        </section>

        <!-- How it Works -->
        <section class="bg-white rounded-lg shadow-md mx-auto p-6 max-w-2xl">
            <h2 class="text-xl font-semibold mb-4 text-primary">Nasıl Çalışır?</h2>
            <ol class="space-y-4">
                <li class="flex items-start gap-3">
                    <div class="bg-primary/10 text-primary font-bold rounded-full h-6 w-6 flex-shrink-0 flex items-center justify-center text-sm">1</div>
                    <p class="text-gray-700">Getirmek istediğiniz ürünün bilgilerini yukarıdaki forma girerek maliyetini hesaplayın.</p>
                </li>
                 <li class="flex items-start gap-3">
                    <div class="bg-primary/10 text-primary font-bold rounded-full h-6 w-6 flex-shrink-0 flex items-center justify-center text-sm">2</div>
                    <p class="text-gray-700">"Sepete Ekle" butonuna basarak ürünü sepetinize ekleyin. İstediğiniz kadar ürün ekleyebilirsiniz.</p>
                </li>
                 <li class="flex items-start gap-3">
                    <div class="bg-primary/10 text-primary font-bold rounded-full h-6 w-6 flex-shrink-0 flex items-center justify-center text-sm">3</div>
                    <p class="text-gray-700">Sepetim sayfasına giderek teslimat yönteminizi seçin ve siparişinizi tamamlayın.</p>
                </li>
            </ol>
        </section>
        
    </main>
</div>

<!-- FLOATING WHATSAPP BUTTON -->
<a href="https://wa.me/905391090879" target="_blank" class="fixed bottom-6 right-6 z-50 bg-[#25D366] w-14 h-14 rounded-full shadow-lg flex items-center justify-center hover:bg-[#20bd5a] transition-colors">
    <i class="ri-whatsapp-line ri-xl text-white"></i>
</a>

<!-- MODALS -->
<!-- Login Modal -->
<div id="login-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden">
    <div class="bg-white rounded-lg p-8 w-full max-w-sm m-4 relative fade-in">
        <button id="close-login-modal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i class="ri-close-line ri-lg"></i></button>
        <div class="text-center mb-6">
            <h3 class="text-2xl font-bold text-gray-800">Hoş Geldiniz!</h3>
            <p class="text-sm text-gray-600 mt-1">Hizmetlerimizi kullanmak için giriş yapın.</p>
        </div>
        <button id="google-login-btn" class="w-full flex items-center justify-center gap-3 border border-gray-300 rounded-button py-3 font-semibold text-gray-700 hover:bg-gray-50 transition-colors">
            <i class="ri-google-fill ri-lg text-red-500"></i>
            <span>Google ile Giriş Yap</span>
        </button>
    </div>
</div>

<!-- Profile Completion Modal -->
<div id="profile-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden">
    <div class="bg-white rounded-lg p-8 w-full max-w-sm m-4 relative fade-in">
        <h3 class="text-2xl font-bold text-gray-800 text-center mb-2">Profilinizi Tamamlayın</h3>
        <p class="text-sm text-gray-600 mt-1 text-center mb-6">Size daha iyi hizmet verebilmemiz için bu bilgilere ihtiyacımız var.</p>
        <form id="profile-form" class="space-y-4">
            <div>
                <label for="full-name-input" class="block text-sm font-medium text-gray-700 mb-1">Ad Soyad <span class="text-red-500">*</span></label>
                <input type="text" id="full-name-input" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50">
            </div>
            <div>
                <label for="phone-input" class="block text-sm font-medium text-gray-700 mb-1">Telefon Numarası <span class="text-red-500">*</span></label>
                <input type="tel" id="phone-input" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="+90 5XX XXX XX XX">
            </div>
            <div>
                <label for="address-input" class="block text-sm font-medium text-gray-700 mb-1">Varsayılan Teslimat Adresi <span class="text-red-500">*</span></label>
                <textarea id="address-input" required rows="3" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="Tam adresinizi girin (örn: Cadde, No, Daire, Şehir)"></textarea>
            </div>
            <button type="submit" class="w-full bg-primary text-white py-3 rounded-button font-semibold hover:bg-primary/90 transition-colors">Profili Kaydet</button>
        </form>
    </div>
</div>


<!-- Auth Required Modal -->
<div id="auth-required-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden">
    <div class="bg-white rounded-lg p-8 w-full max-w-sm m-4 text-center fade-in">
        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <i class="ri-lock-line ri-2x text-red-500"></i>
        </div>
        <h3 class="text-xl font-bold text-gray-800">Giriş Gerekli</h3>
        <p class="text-sm text-gray-600 mt-2 mb-6">Bu özelliği kullanmak için lütfen giriş yapın.</p>
        <div class="space-y-2">
            <button id="auth-modal-login-btn" class="w-full bg-primary text-white py-2 rounded-button font-medium hover:bg-primary/90 transition-colors">Giriş Yap</button>
            <button id="close-auth-modal" class="w-full text-gray-600 py-2 font-medium hover:bg-gray-100 rounded-button transition-colors">Kapat</button>
        </div>
    </div>
</div>

<!-- TOAST NOTIFICATION -->
<div id="toast" class="fixed bottom-24 right-6 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-xl opacity-0 transition-all duration-300 z-[110] transform translate-y-4">
    <span id="toast-message"></span>
</div>

<!-- Firebase SDK -->
<script type="module">
    // Firebase SDK'larını import et
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    // --- YENİ FIREBASE YAPILANDIRMASI ---
    // __firebase_config global değişkeni varsa onu kullan, yoksa varsayılanı kullan
    const firebaseConfig = typeof __firebase_config !== 'undefined' 
        ? JSON.parse(__firebase_config)
        : {
            apiKey: "AIzaSyDYkzZzNXB22U4oEXxOoPh-puwuE8kz0g4",
            authDomain: "pufemo-com.firebaseapp.com",
            projectId: "pufemo-com",
            storageBucket: "pufemo-com.firebasestorage.app",
            messagingSenderId: "983352837227",
            appId: "1:983352837227:web:defaa8dae215776e2e1d2e",
            measurementId: "G-RH8XHC7P91"
        };
    
    // Firebase'i başlat
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app); // Analytics'i başlat
    const auth = getAuth(app);
    const db = getFirestore(app);
    let cartUnsubscribe = null; // Sepet dinleyicisini tutmak için

    // DOM Elementleri
    const loginBtn = document.getElementById('login-btn');
    const profileContainer = document.getElementById('profile-container');
    const profileImg = document.getElementById('profile-img');
    const loginModal = document.getElementById('login-modal');
    const closeLoginModal = document.getElementById('close-login-modal');
    const googleLoginBtn = document.getElementById('google-login-btn');
    const authRequiredModal = document.getElementById('auth-required-modal');
    const closeAuthModal = document.getElementById('close-auth-modal');
    const authModalLoginBtn = document.getElementById('auth-modal-login-btn');
    const profileModal = document.getElementById('profile-modal');
    const profileForm = document.getElementById('profile-form');
    const cartBadge = document.getElementById('cart-badge');

    // ---- AUTHENTICATION ---- //
    onAuthStateChanged(auth, user => {
        updateAuthUI(user);
        if (user) {
            checkUserProfile(user);
            listenToCart(user.uid);
        } else {
            // Kullanıcı çıkış yaptıysa, sepet dinleyicisini durdur
            if (cartUnsubscribe) {
                cartUnsubscribe();
            }
            cartBadge.classList.add('hidden');
        }
    });

    function updateAuthUI(user) {
        if (user) {
            loginBtn.classList.add('hidden');
            profileContainer.classList.remove('hidden');
            profileImg.src = user.photoURL || 'https://placehold.co/40x40/cccccc/000000?text=P';
            profileImg.alt = user.displayName || 'Profil';
        } else {
            loginBtn.classList.remove('hidden');
            profileContainer.classList.add('hidden');
        }
    }
    
    // Modalları açma/kapama
    loginBtn.addEventListener('click', () => loginModal.classList.remove('hidden'));
    closeLoginModal.addEventListener('click', () => loginModal.classList.add('hidden'));
    profileContainer.addEventListener('click', async () => {
        if (confirm('Çıkış yapmak istediğinize emin misiniz?')) {
            await signOut(auth);
            showToast('Başarıyla çıkış yapıldı.');
        }
    });
    
    // Google ile Giriş
    googleLoginBtn.addEventListener('click', async () => {
        const provider = new GoogleAuthProvider();
        try {
            // !!! HATA DÜZELTME NOTU: 'auth/unauthorized-domain' HATASI ALIYORSANIZ !!!
            // Bu hata, bu uygulamanın çalıştığı web sitesi adresinin (domain), 
            // Firebase projenizde yetkilendirilmemiş olmasından kaynaklanır.
            //
            // ÇÖZÜM ADIMLARI:
            // 1. Firebase Konsolu'na gidin: https://console.firebase.google.com/
            // 2. Projenizi seçin: 'pufemo-com'
            // 3. Sol menüden 'Authentication' -> 'Settings' (Ayarlar) sekmesine gidin.
            // 4. 'Authorized domains' (Yetkili alan adları) bölümünü bulun.
            // 5. 'Add domain' (Alan adı ekle) butonuna tıklayın.
            // 6. Bu uygulamayı önizlediğiniz sayfanın adresini ekleyin.
            //
            // Bu adımları uyguladıktan sonra sorun çözülecektir.

            await signInWithPopup(auth, provider);
            loginModal.classList.add('hidden');
            showToast('Giriş başarılı!');
        } catch (error) {
            console.error("Google ile giriş hatası:", error);
            // Hata mesajını daha anlaşılır hale getirerek kullanıcıya gösterelim
            if (error.code === 'auth/unauthorized-domain') {
                 showToast('Giriş yapılamadı. Bu site adresi, güvenlik nedeniyle yetkilendirilmemiş.', 'error');
            } else {
                 showToast('Giriş sırasında bir hata oluştu.', 'error');
            }
        }
    });

    // Giriş Gerekli Modalı
    window.showAuthRequiredModal = () => authRequiredModal.classList.remove('hidden');
    closeAuthModal.addEventListener('click', () => authRequiredModal.classList.add('hidden'));
    authModalLoginBtn.addEventListener('click', () => {
        authRequiredModal.classList.add('hidden');
        loginModal.classList.remove('hidden');
    });

    // ---- USER PROFILE ---- //
    async function checkUserProfile(user) {
        const userDocRef = doc(db, "users", user.uid);
        const userDocSnap = await getDoc(userDocRef);

        if (!userDocSnap.exists() || !userDocSnap.data().isProfileComplete) {
            // Kullanıcı profili yoksa veya tamamlanmamışsa modalı göster
            profileModal.classList.remove('hidden');
            // Formu kullanıcının Google bilgileriyle önceden doldur
            document.getElementById('full-name-input').value = user.displayName || '';
        }
    }
    
    profileForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const user = auth.currentUser;
        if (!user) return;

        const userData = {
            email: user.email,
            displayName: user.displayName,
            photoURL: user.photoURL,
            fullName: document.getElementById('full-name-input').value,
            phone: document.getElementById('phone-input').value,
            address: document.getElementById('address-input').value,
            isProfileComplete: true,
        };
        
        try {
            await setDoc(doc(db, "users", user.uid), userData, { merge: true });
            profileModal.classList.add('hidden');
            showToast('Profiliniz başarıyla güncellendi!');
        } catch (error) {
            console.error("Profil kaydetme hatası:", error);
            showToast('Profil kaydedilirken bir hata oluştu.', 'error');
        }
    });
    
    // ---- CALCULATOR & CART ---- //
    const calculatorForm = document.getElementById('calculator-form');
    const mainActionBtn = document.getElementById('main-action-btn');
    const calculationResult = document.getElementById('calculation-result');

    // Formdaki herhangi bir değişiklikte hesaplama sonucunu sıfırla
    const formInputs = calculatorForm.querySelectorAll('input, select');
    formInputs.forEach(input => {
        input.addEventListener('input', resetCalculatorState);
    });

    function resetCalculatorState() {
        if (mainActionBtn.textContent.trim() !== 'Maliyeti Hesapla') {
            mainActionBtn.innerHTML = `<i class="ri-calculator-line"></i><span>Maliyeti Hesapla</span>`;
            calculationResult.classList.add('hidden');
        }
    }
    
    calculatorForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const buttonText = mainActionBtn.textContent.trim();
        
        if (buttonText === 'Maliyeti Hesapla') {
            handleCalculation();
        } else if (buttonText === 'Sepete Ekle') {
            await handleAddToCart();
        }
    });

    function handleCalculation() {
        const price = parseFloat(document.getElementById('product-price').value);
        const category = document.getElementById('product-category').value;
        const orderMethod = document.getElementById('order-method').value;

        if (isNaN(price) || price <= 0 || !category) {
            showToast('Lütfen tüm zorunlu alanları doğru doldurun.', 'error');
            return;
        }

        const categoryRates = { 'furniture': 0.70, 'electronics': 0.70, 'clothing': 0.45, 'cosmetics': 0.70, 'stationery': 0.40 };
        const categoryFee = price * (categoryRates[category] || 0);

        let total, productCost;
        if (orderMethod === 'self') {
            productCost = 0; // Ürünü kullanıcı alıyor
            total = categoryFee;
             document.getElementById('result-price-label').textContent = 'Ürün Fiyatı (Size Ait):'
        } else {
            productCost = price;
            total = price + categoryFee;
            document.getElementById('result-price-label').textContent = 'Ürün Fiyatı:'
        }

        document.getElementById('result-price').textContent = `${price.toFixed(2)} ₺`;
        document.getElementById('result-category-fee').textContent = `${categoryFee.toFixed(2)} ₺`;
        document.getElementById('result-total').textContent = `${total.toFixed(2)} ₺`;
        
        calculationResult.classList.remove('hidden');
        mainActionBtn.innerHTML = `<i class="ri-shopping-cart-add-line"></i><span>Sepete Ekle</span>`;
    }

    async function handleAddToCart() {
        const user = auth.currentUser;
        if (!user) {
            window.showAuthRequiredModal();
            return;
        }

        const productData = {
            productLink: document.getElementById('product-link').value,
            productPrice: parseFloat(document.getElementById('product-price').value),
            category: document.getElementById('product-category').value,
            orderMethod: document.getElementById('order-method').value,
            quantity: 1,
            addedAt: new Date()
        };

        try {
            const cartCollectionRef = collection(db, 'users', user.uid, 'cart');
            await addDoc(cartCollectionRef, productData);
            showToast('Ürün başarıyla sepete eklendi!');
            calculatorForm.reset();
            resetCalculatorState();
        } catch (error) {
            console.error("Sepete ekleme hatası:", error);
            showToast('Ürün sepete eklenirken bir hata oluştu.', 'error');
        }
    }
    
    // Sepet dinleyicisi
    function listenToCart(userId) {
        // Eğer zaten bir dinleyici varsa, önce onu durdur
        if (cartUnsubscribe) {
            cartUnsubscribe();
        }
        const cartRef = collection(db, 'users', userId, 'cart');
        cartUnsubscribe = onSnapshot(cartRef, (snapshot) => {
            const itemCount = snapshot.size;
            if (itemCount > 0) {
                cartBadge.textContent = itemCount;
                cartBadge.classList.remove('hidden');
            } else {
                cartBadge.classList.add('hidden');
            }
        });
    }

    // ---- UTILS ---- //
    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');
        
        toastMessage.textContent = message;
        toast.className = 'fixed bottom-24 right-6 text-white px-5 py-3 rounded-lg shadow-xl transition-all duration-300 z-[110] transform'; // reset classes
        toast.classList.add(type === 'error' ? 'bg-red-500' : 'bg-gray-800');

        // Animate in
        toast.classList.remove('opacity-0', 'translate-y-4');
        toast.classList.add('opacity-100', 'translate-y-0');

        // Animate out
        setTimeout(() => {
            toast.classList.remove('opacity-100', 'translate-y-0');
            toast.classList.add('opacity-0', 'translate-y-4');
        }, 3000);
    }
</script>

</body>
</html>
